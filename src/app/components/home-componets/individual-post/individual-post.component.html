<div class="component-container" *ngIf="loadingPost">
  <div class="w-100 d-flex align-items-center mb-2">
    <i class="fa-solid fa-circle-chevron-left me-2" (click)="goBack()"></i>
    <h2 class="secondary-title d-flex justify-content-center"> {{ post.title }}  </h2>
    <i class="fa-solid fa-circle-xmark ms-auto" (click)="close()"></i>
  </div>


  <div class="main-post">
    <div class="mb-2">
      <span> {{ post.message }} </span>
    </div>
    <div class="d-flex">
      <span class="author"><i class="fa-solid fa-comment fa-flip-horizontal"></i> <span class="author-name"> {{ post.user.userData.name + ' ' + post.user.userData.surname }}</span>  </span>
      <span class="author"><i class="fa-solid fa-hashtag"></i> {{ post.date | date:'dd MMM YYYY, HH:mm' }}</span>
    </div>
  </div>


  <div class="answer-post" *ngFor="let message of messages; let i = index"
  [ngClass]="{'bs-1': i % 2 === 0, 'bs-2': i % 2 !== 0}">
    <div class="mb-2">
      <span> {{ message.message }} </span>
    </div>
    <div class="d-flex">
      <span class="author"><i class="fa-solid fa-comment fa-flip-horizontal"></i> <span class="author-name"> {{ message.user.userData.name + ' ' + message.user.userData.surname }}</span>  </span>
      <span class="author"><i class="fa-solid fa-hashtag"></i> {{ message.date | date:'dd MMM YYYY, HH:mm' }}</span>
    </div>
  </div>

  <div *ngIf="!isOld">
    <form [formGroup]="postForm" (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <label for="message" class="form-label message"> Mensaje: </label>
        <textarea class="form-control" id="message" rows="5" formControlName="message"></textarea>
        <div *ngIf="postForm.controls['message'].invalid && postForm.controls['message'].touched" class="text-danger">
          Message is required
        </div>
      </div>
      <button type="submit" class="btn-update-document"> Subir </button>
    </form>
  </div>

  <div class="d-flex justify-content-center" *ngIf="isOld">
    <span class="form-label message"> No se aceptan mÃ¡s mensajes </span>
  </div>




</div>
